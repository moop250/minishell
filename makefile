define HEADER

⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣠⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠂⠂⢄
⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣾⣿⣿⣿⣤⡀⠀⠀⠀⠀⢀⠂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠊⠀⠀⠀⠀⠑⡀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⣾⣿⣿⣻⡿⣿⣿⣦⡀⠀⠀⢄⠁⠢⠀⠀⠀⠀⠀⠀⠀⠀⠀⡐⠀⠀⠀⠀⠀⠀⠀⢐
⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣷⣿⣟⣿⣿⣻⣿⣿⣷⣀⠢⠀⠀⠁⠢⠀⢄⠀⠀⠀⠀⢀⠂⠀⠀⠀⠀⠀⠀⠀⠠⡁
⠀⠀⠀⠀⠀⠀⠀⠀⢀⢸⣿⣾⣿⣽⣯⣿⣯⡿⠿⠟⠷⠀⠀⠀⠀⠀⠀⠈⠂⡌⠢⡐⠀⠀⠀⠀⠀⠀⠀⠀⠠⡁
⠀⠀⠀⠀⠀⠀⠀⠀⠈⢿⡿⣷⣿⠽⠋⠃⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠢⠈⢄
⠀⠀⠀⢄⠀⠀⠀⠀⠀⠶⠿⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠄⠐⠠⠀⠀⡈⠢⡀⠀⠀⠀⠠⠁⠀⠀⠑⢄
⠀⠀⠀⠐⡈⠁⠁⠈⠈⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⢀⠂⠀⠈⠢⡀⠀⡊⠀⠀⠀⠀⠀⢂⠀
⠀⠀⠀⠀⠢⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠔⠀⢀⢀⠂⠀⠀⠀⠀⠱⠀⠀⠀⠀⠀⠀⠐⠄
⠀⠀⠀⠀⠈⢂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢁⠉⠐⠄⡀⠀⠀⠀⠀⢀⠀⡀⢀⠁⠁⠁⠀⠀⠀⠀⠀⠀⡅⠀⠀⠀⠀⠀⠀⢀⠇
⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠡⡀⢀⠈⢂⠀⡅⠈⠀⠀⢁⠌⠀⠀⠀⠀⠀⠀⠀⠀⠀⢂⠀⠀⠀⠀⠀⠀⡰⠁⠄
⠀⠀⠀⠀⠀⠀⠰⠀⠀⠀⠀⠀⢀⡀⣠⣤⣤⣄⡈⠀⠀⠀⢆⠐⢄⠠⠂⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠆⠀⠀⠀⠀⡰⠁⢨
⠀⠀⠀⠀⠀⠀⢃⠀⠀⠀⠀⠀⠠⠀⠸⠀⠰⣿⢿⠀⢄⢀⠀⡀⠠⠠⠾⠶⠷⢷⣶⣤⣂⠰⠀⠄⠠⢀⢀⠈⢂⠀⠀⠀⠠⢂
⠀⠀⠀⠀⠀⠀⠈⢄⠠⠀⠄⠔⠁⠀⠘⡀⠈⣿⣦⠂⠀⠀⠀⠀⠀⠀⡃⠀⠀⢿⣿⣧⢈⣷⡦⠀⠀⠀⠠⠘⠀⠃⠂⠄⠤⠠⠈⡢
⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠣⢀⠌⢃⢈⢉⠐⠐⠄⠠⠀⡅⠀⠀⠹⣿⠿⠟⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢌⢁
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡱⢀⠐⠀⠁⠈⠀⠂⠂⠢⠀⠑⠀⠀⠀⠁⠈⡐⠐⠀⠈⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠔⠁
⠀⠀⠀⠀⠀⠀⠀⠀⢀⠌⠀⠆⠠⣶⣷⣷⡦⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠒⡁
⠀⠀⠀⠀⠀⠀⠀⠀⠡⠠⡀⢘⠀⠙⠛⠉⠀⠀⠀⠀⠀⠀⠀⢀⣠⣄⣄⠀⠀⠀⠑⠠⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡅
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢐⠁⠢⠐⠐⠂⠤⠠⡀⡀⢀⠀⠀⢀⡬⠋⠁⠀⠀⠀⠀⠀⠐⢄⠀⠀⠀⠀⠀⠀⠀⠀⢢
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢨⠀⠈⠄⠀⠀⠀⠀⠀⠀⠁⠈⠂⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠁⠢⢀⠀⠀⠀⠀⠀⠀⢷⣔⡄⢀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠆⠄⡀⣈⠢⢄⡀⣀⢀⠀⡀⣀⢀⣀⣀⣀⣀⣀⠀⠀⠀⠀⠀⠀⣀⠀⠀⠁⣿⣾⣷⣿⣾⣾⣿⠿⠇⢈⠂
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⠿⠟⠂⠢⡀⠀⠿⠶⢀⠘⠋⠉⠉⠈⠁⠀⠀⠀⢀⠌
⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠔⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⡀⠿⠛⠛⠊⠀⠂⠈⠈⠀⠈⠐⠀⠀⠀⠁⠀⠀⠀⠀⠀⠀⠀⢀⠂
⠀⠀⠀⠀⠀⠀⠀⢀⠐⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⢍⠈⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠂
⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠐⠄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠄⠢⠈⠐⠁⠑⠈⠂⠑⠄⡀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⢀⢃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡠⠊⠀⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠢⡀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⠞⠉⠐⠄⠀⠀⠀⠀⢐⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠊⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⠄⡀
⠀⠀⠀⠀⠀⠀⠀⠀⡰⠀⠀⠀⠌⠀⠀⠀⠀⠀⠈⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠠⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠂⢄
⠀⠀⠀⠀⠀⠀⠀⢐⠁⠀⠀⠨⡀⠀⠀⠀⠀⠀⠀⡣⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⢀⠀⡑⠤⡀
⠀⠀⠀⠀⠀⠀⠀⠆⠀⠀⠀⠀⠈⠢⡀⠀⠀⠀⠀⠆⠡⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠔⠈⠀⠀⠀⠀⠀⠀⠡

         \033[38;5;201m_ __ ___   ___   ___  _ __\033[0m
        \033[38;5;201m| '_ ` _ \ / _ \ / _ \| '_ \ \033[0m
        \033[38;5;141m| | | | | | (_) | (_) | |_) |\033[0m
        \033[38;5;68m|_| |_| |_|\___/ \___/| .__/\033[0m
                              \033[38;5;68m|_|\033[0m

\033[38;5;196m----------\033[38;5;208m----------\033[38;5;226m----------\033[38;5;46m----------\033[38;5;21m----------\033[38;5;129m----------\033[0m

endef
export HEADER

define HEADER_LIB


 _____                       _ _ _                _     _ _                    _
/  __ \                     (_) (_)              | |   (_) |                  (_)
| /  \/ ___  _ __ ___  _ __  _| |_ _ __   __ _   | |    _| |__  _ __ __ _ _ __ _  ___  ___
| |    / _ \| '_ ` _ \| '_ \| | | | '_ \ / _` |  | |   | | '_ \| '__/ _` | '__| |/ _ \/ __|
| \__/\ (_) | | | | | | |_) | | | | | | | (_| |  | |___| | |_) | | | (_| | |  | |  __/\__ \ 
 \____/\___/|_| |_| |_| .__/|_|_|_|_| |_|\__, |  \_____/_|_.__/|_|  \__,_|_|  |_|\___||___/
                      | |                 __/ |
                      |_|                |___/


endef
export HEADER_LIB

define HEADER_NAME


 _____                       _ _ _                         _       _     _          _ _
/  __ \                     (_) (_)                       (_)     (_)   | |        | | |
| /  \/ ___  _ __ ___  _ __  _| |_ _ __   __ _   _ __ ___  _ _ __  _ ___| |__   ___| | |
| |    / _ \| '_ ` _ \| '_ \| | | | '_ \ / _` | | '_ ` _ \| | '_ \| / __| '_ \ / _ \ | |
| \__/\ (_) | | | | | | |_) | | | | | | | (_| | | | | | | | | | | | \__ \ | | |  __/ | |
 \____/\___/|_| |_| |_| .__/|_|_|_|_| |_|\__, | |_| |_| |_|_|_| |_|_|___/_| |_|\___|_|_|
                      | |                 __/ |
                      |_|                |___/



endef
export HEADER_NAME

# Variables
GREEN = \033[0;32m
ORANGE = \033[38;5;208m
RESET = \033[0m

NAME = minishell
CC = cc
CFLAGS = -Wall -Wextra -Werror -lreadline -g
DEVFLAGS = -lreadline -g3 -fsanitize=address
RM = rm -f

EXTENDED_FT = libs/extended_ft/
EXFT_LIB = $(EXTENDED_FT:%=%libft.a)

SRCS = srcs/minishell.c \

SUPP = srcs/error_handling/errors.c \
		srcs/initialization/init.c \
		srcs/initialization/init_utils.c \
		srcs/lexing/lexing.c \
		srcs/lexing/token_funcs.c \
		srcs/minishell_loop/main_loop.c \
		srcs/builtins/env.c \
		srcs/parsing/parsing.c \
		srcs/parsing/parsing_utils.c \
		srcs/parsing/pipeline_fd_funcs.c \
		srcs/parsing/pipeline_ll_funcs.c \
		srcs/parsing/exec_path.c \
		srcs/execution/execute.c \
		srcs/env/env_funcs.c \
		srcs/env/env_extras.c \

$(NAME): $(EXFT_LIB) $(SRCS) $(SUPP)
	@echo "$$HEADER_NAME"
	@$(CC) $(SUPP) $(SRCS) $(EXFT_LIB) $(CFLAGS) -o $(NAME)

$(EXFT_LIB): $(EXTENDED_FT)makefile
	@echo "$$HEADER_LIB"
	@make -C $(EXTENDED_FT)

# Rules
all: $(NAME)

debug: $(EXFT_LIB)
	@echo "$(ORANGE)Compiling debug $(NAME)$(RESET)"
	@$(CC) $(SUPP) $(SRCS) $(EXFT_LIB) $(DEVFLAGS) -o $(NAME)

clean:
	@echo "$(ORANGE)Cleaning up...$(RESET)"
	@make -s fclean -C $(EXTENDED_FT)
	@echo "$(GREEN)Clean up successful$(RESET)"

fclean: clean
	@echo "$(ORANGE)Full clean up...$(RESET)"
	@rm -f $(NAME)
	@echo "$(GREEN)Full clean up successful$(RESET)"

re: fclean all

header:
	@echo "$$HEADER"

help:
	@echo "$$HEADER"
	@echo "\033[0;36mmake\033[0m : complies the project."
	@echo "\033[0;36mmake all\033[0m : complies the project and the bonus."
	@echo "\033[0;36mmake re\033[0m : recompiles the project."
	@echo "\033[0;36mmake debug\033[0m : runs the program in debug mode."
	@echo "\033[0;36mmake clean\033[0m : cleans up object files."
	@echo "\033[0;36mmake fclean\033[0m : cleans up all files generated by the makefile."

.PHONY: all clean fclean re header debug help
